<% img_paths = [
  "https://partyanimals.com/media/avatars/thumbnails/avatars-1.webp",
  "https://partyanimals.com/media/avatars/thumbnails/avatars-3.webp",
  "https://partyanimals.com/media/avatars/thumbnails/avatars-6.webp",
  "https://partyanimals.com/media/avatars/thumbnails/avatars-9.webp",
  "https://partyanimals.com/media/avatars/thumbnails/avatars-10.webp",
  "https://partyanimals.com/media/avatars/thumbnails/avatars-11.webp",
  "https://partyanimals.com/media/avatars/thumbnails/avatars-16.webp",
  "https://partyanimals.com/media/avatars/thumbnails/avatars-19.webp",
  "https://partyanimals.com/media/avatars/thumbnails/avatars-20.webp"
] %>

<div class="container-fluid">
  <div class="row">
    <div class="col-lg-9">
      <div class="fighters-header d-flex align-items-center justify-content-between mb-3">
        <input type="text" class="form-control" placeholder="Search">
        <input type="text" class="form-control" placeholder="12/08/24">
        <input type="text" class="form-control" placeholder="2 hours">
      </div>

      <div class="row fighters-list">
        <% fighters.each do |fighter| %>
          <div class="col-xl-4 col-md-6 my-3">
            <div class="card h-100 fighter-card">
              <div class="fighter-image position-relative">
                <%= image_tag img_paths.sample, class: "card-img-top rounded fighter-img", alt: "#{fighter.nickname}'s profile photo" %>
                <div class="fighter-stats position-absolute">
                  <p class="stat mb-0"><%= "#{fighter.height}cm" %></p>
                  <p class="stat mb-0"><%= "#{fighter.weight}kg" %></p>
                </div>
              </div>
              <div class="card-body d-flex flex-column p-3">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h5 class="card-title mb-0"><%= "#{fighter.nickname}" %></h5>
                  <div class="rating">
                    <span><i class="fa-solid fa-star"></i></span>
                    <span><%= fighter.average_rating %></span>
                    <span>(<%= fighter.reviews_count %>)</span>
                  </div>
                </div>
                <p class="card-subtitle text-muted mb-2"><%= "#{fighter.fight_style}" %></p>
                <p class="card-text text-muted"><%= truncate(fighter.description, length: 40) %></p>
                <div class="d-flex justify-content-between align-items-center mt-auto">
                  <p class="price-pill btn btn-light rounded-pill px-3 py-1"><%="ğŸ’° #{fighter.price}â‚¬/h" %></p>
                  <p class="total text-end text-muted small mb-0"><%= "2 400â‚¬ au total" %></p>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Map Column -->
    <div class="col-lg-3 p-0">
      <div class="map-container">
        <div class="map-content">
          Map
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <% img_paths = [
"https://partyanimals.com/media/avatars/thumbnails/avatars-1.webp",
"https://partyanimals.com/media/avatars/thumbnails/avatars-3.webp",
"https://partyanimals.com/media/avatars/thumbnails/avatars-6.webp",
"https://partyanimals.com/media/avatars/thumbnails/avatars-9.webp",
"https://partyanimals.com/media/avatars/thumbnails/avatars-10.webp",
"https://partyanimals.com/media/avatars/thumbnails/avatars-11.webp",
"https://partyanimals.com/media/avatars/thumbnails/avatars-16.webp",
"https://partyanimals.com/media/avatars/thumbnails/avatars-19.webp",
"https://partyanimals.com/media/avatars/thumbnails/avatars-20.webp"] %>

<div class="row">
  <% fighters.each do |fighter| %>
    <div class="col-xl-4 col-md-6 my-1">
      <div class="card" style="height:100%">
        <%= render "shared/default_photo",
                  item: fighter,
                  default_img: img_paths.sample,
                  class_name: "",
                  alt: "#{fighter.nickname}'s profil photo" %>
        <div class="card-body">
          <h5 class="card-title">
            <%= "#{fighter.first_name} #{fighter.last_name}" %>
            <b><%="\"#{fighter.nickname}\"" %></b>
          </h5>
          <div class="d-flex justify-content-between mt-3 align-items-baseline" >
            <p class="card-subtitle mb-2 text-body-secondary">
            <%= "#{fighter.height} cm" if fighter.height %> | <%= "#{fighter.weight} kg" if fighter.weight %>
            </p>
            <p class="btn btn-success rounded-pill">
              <%="ğŸ’° #{fighter.price}â‚¬/h" %>
            </p>
          </div>
            <p class="card-text">
              <%= fighter&.description %>
            <br>
              <%= link_to "+ see more", fighter_path(fighter), class:"badge text-bg-primary link-offset-2 link-underline link-underline-opacity-0 mt-3" %>
              <% unless current_user && current_user.fighter && current_user.fighter.id == fighter.id %>
                <%= link_to "> book an event", new_fighter_event_path(fighter), class:"badge text-bg-danger text-light link-offset-2 link-underline link-underline-opacity-0" %>
              <% end %>
            </p>
        </div>
      </div>
    </div>
  <% end %>
</div> -->
